{% load static %}

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" /> -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

<link rel="stylesheet" href="{% static 'css/formCadastro.css' %}" />

<!-- Formulário Cadastro de horários -->
<div class="d-flex justify-content-center">
    <h1>HelpMyCompany</h1>
    <img src="{% static 'images/task-png--1600.png' %}" alt="Logo" width="50" height="50" />
</div>
{% if messages %}
{% for message in messages %}
<div class="alert alert-danger" role="alert">
    {{ message }}
</div>
{% endfor %}

{% endif %}
<div class="d-flex justify-content-center mt-5 ml-5 ">
    <div class="row">
        <div>
            <h3>Cadastro de tarefa</h3>
            <div>
                <form method="POST" action="{% url 'getTime_table' %}">
                    {% csrf_token %}
                    <div id="formulario">
                        <div class="form-row">
                            <div class="form-inline col-auto mr-1">
                                <label for="inputTarefa">Nome da Tarefa: </label>
                                <input type="text" class="form-control" name="nome1" id="inputTarefa"
                                    placeholder="nome da tarefa" required />
                            </div>
                            <label class="d-flex align-items-center" for="appt">Horário de início:</label>
                            <input class="mr-1" type="time" id="appt" name="f_horario1" required />
                            <label class="d-flex align-items-center" for="appt">Horário de fim:</label>
                            <input type="time" id="appt" name="s_horario1" required />
                            <div class="form-inline col-auto mr-1">
                                <label for="inputHorario">Selecione a prioridade:</label>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadio1" id="inlineRadio1"
                                        value="1" />
                                    <label class="form-check-label" for="inlineRadio1">1</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadio1" id="inlineRadio2"
                                        value="2" />
                                    <label class="form-check-label" for="inlineRadio2">2</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadio1" id="inlineRadio3"
                                        value="3" />
                                    <label class="form-check-label" for="inlineRadio3">3</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadio1" id="inlineRadio4"
                                        value="4" />
                                    <label class="form-check-label" for="inlineRadio4">4</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadio1" id="inlineRadio5"
                                        value="5" />
                                    <label class="form-check-label" for="inlineRadio5">5</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-dark mt-2">
                        Submeter tarefas
                    </button>
                </form>
                <button type="button" onclick="adicionarCampo()" class="btn btn-dark mr-1">
                    Nova tarefa+
                </button>
            </div>
        </div>
        </form>
    </div>
</div>
</div>
</div>


<script>
    var controleCampo = 1;
    function adicionarCampo() {
        controleCampo++;
        document
            .getElementById("formulario")
            .insertAdjacentHTML(
                "beforeend",
                '<div class="form-row mb-1 mt-1" id="campo' +
                controleCampo +
                '"><div class="form-inline col-auto"><label for="inputTarefa">Nome da Tarefa: </label><input type="text" class="form-control" name="nome' +
                controleCampo +
                '" id="inputTarefa" placeholder="nome da tarefa" required></div><label class="d-flex align-items-center ml-1" for="appt">Horário de início:</label><input class="mr-1" type="time" id="appt" name="f_horario' + controleCampo + '"  required /><label class="d-flex align-items-center" for="appt">Horário de fim:</label><input class="mr-1" type="time" id="appt" name="s_horario' + controleCampo + '"  required /><label for="inputHorario">Selecione a prioridade: </label> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadio' +
                controleCampo +
                '" id="inlineRadio1" value="1"> <label class="form-check-label" for="inlineRadio1">1</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadio' +
                controleCampo +
                '" id="inlineRadio2" value="2"> <label class="form-check-label" for="inlineRadio2">2</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadio' +
                controleCampo +
                '" id="inlineRadio3" value="3"> <label class="form-check-label" for="inlineRadio3">3</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadio' +
                controleCampo +
                '" id="inlineRadio4" value="4"> <label class="form-check-label" for="inlineRadio4">4</label> </div> <div class="form-check form-check-inline"> <input class="form-check-input" type="radio" name="inlineRadio' +
                controleCampo +
                '" id="inlineRadio5" value="5"> <label class="form-check-label" for="inlineRadio5">5</label> <button type="button" class="btn btn-dark ml-1" id="' +
                controleCampo +
                '" onclick="removerCampo(' +
                controleCampo +
                ')"> - </button> </div> </div> </div></div></div></div>'
            );
    }

    function removerCampo(idCampo) {
        document.getElementById("campo" + idCampo).remove();
    }
</script>